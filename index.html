<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sistema profissional de gerenciamento de tarefas e eventos com design moderno">
    <title>Agendador de Tarefas - Bruna</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Tarefas Bruna">
    
    <!-- Icons & Manifest -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icons/icon-96x96.png">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- ==================== APP HEADER ==================== -->
    <header class="app-header">
        <div class="header-container">
            <!-- Brand -->
            <a href="#" class="brand">
                <div class="brand-icon">‚úì</div>
                <div class="brand-text">
                    <span class="brand-name">Tarefas Bruna</span>
                    <span class="brand-tagline">Organize.  Execute. Conquiste. </span>
                </div>
            </a>

            <!-- Header Search -->
            <div class="header-search">
                <span class="header-search-icon">üîç</span>
                <input type="search" id="headerSearch" placeholder="Buscar tarefas, eventos..." autocomplete="off">
            </div>

            <!-- Header Actions -->
            <div class="header-actions">
                <button class="icon-btn" id="themeToggle" title="Alternar tema">
                    <span id="themeIcon">üåô</span>
                </button>
                
                <button class="icon-btn notification-btn" id="notificationBtn" title="Notifica√ß√µes">
                    <span>üîî</span>
                    <span class="notification-badge" id="notificationBadge">0</span>
                </button>
                
                <button class="btn btn-primary" id="quickAddBtn">
                    <span>‚ûï</span>
                    <span>Nova Tarefa</span>
                </button>
            </div>
        </div>
    </header>

    <!-- ==================== MAIN LAYOUT ==================== -->
    <div class="app-layout">
        <!-- ==================== LEFT SIDEBAR ==================== -->
        <aside class="sidebar">
            <!-- Navigation Menu -->
            <nav class="sidebar-section">
                <h3 class="sidebar-title">Menu</h3>
                <div class="nav-menu">
                    <a href="#" class="nav-item active" data-view="today">
                        <span class="nav-icon">üìÖ</span>
                        <span class="nav-label">Hoje</span>
                        <span class="nav-count" id="todayCount">0</span>
                    </a>
                    <a href="#" class="nav-item" data-view="week">
                        <span class="nav-icon">üìÜ</span>
                        <span class="nav-label">Esta Semana</span>
                        <span class="nav-count" id="weekCount">0</span>
                    </a>
                    <a href="#" class="nav-item" data-view="upcoming">
                        <span class="nav-icon">üîú</span>
                        <span class="nav-label">Pr√≥ximas</span>
                        <span class="nav-count" id="upcomingCount">0</span>
                    </a>
                    <a href="#" class="nav-item" data-view="all">
                        <span class="nav-icon">üìã</span>
                        <span class="nav-label">Todas</span>
                        <span class="nav-count" id="allCount">0</span>
                    </a>
                    <a href="#" class="nav-item" data-view="completed">
                        <span class="nav-icon">‚úÖ</span>
                        <span class="nav-label">Conclu√≠das</span>
                        <span class="nav-count" id="completedCount">0</span>
                    </a>
                </div>
            </nav>

            <!-- Categories -->
            <div class="sidebar-section">
                <h3 class="sidebar-title">Categorias</h3>
                <div class="nav-menu">
                    <a href="#" class="nav-item" data-category="work">
                        <span class="nav-icon">üíº</span>
                        <span class="nav-label">Trabalho</span>
                        <span class="nav-count" id="workCount">0</span>
                    </a>
                    <a href="#" class="nav-item" data-category="personal">
                        <span class="nav-icon">üë§</span>
                        <span class="nav-label">Pessoal</span>
                        <span class="nav-count" id="personalCount">0</span>
                    </a>
                    <a href="#" class="nav-item" data-category="study">
                        <span class="nav-icon">üìö</span>
                        <span class="nav-label">Estudos</span>
                        <span class="nav-count" id="studyCount">0</span>
                    </a>
                    <a href="#" class="nav-item" data-category="health">
                        <span class="nav-icon">‚ù§Ô∏è</span>
                        <span class="nav-label">Sa√∫de</span>
                        <span class="nav-count" id="healthCount">0</span>
                    </a>
                    <a href="#" class="nav-item" data-category="shopping">
                        <span class="nav-icon">üõí</span>
                        <span class="nav-label">Compras</span>
                        <span class="nav-count" id="shoppingCount">0</span>
                    </a>
                </div>
            </div>

            <!-- Statistics -->
            <div class="sidebar-section">
                <h3 class="sidebar-title">Estat√≠sticas</h3>
                <div class="stats-card">
                    <div class="stat-item primary">
                        <span class="stat-value" id="totalTasks">0</span>
                        <span class="stat-label">Total</span>
                    </div>
                    <div class="stat-item success">
                        <span class="stat-value" id="completedTasks">0</span>
                        <span class="stat-label">Conclu√≠das</span>
                    </div>
                    <div class="stat-item warning">
                        <span class="stat-value" id="pendingTasks">0</span>
                        <span class="stat-label">Pendentes</span>
                    </div>
                    <div class="stat-item danger">
                        <span class="stat-value" id="overdueTasks">0</span>
                        <span class="stat-label">Atrasadas</span>
                    </div>
                </div>
            </div>

            <!-- Progress -->
            <div class="sidebar-section">
                <h3 class="sidebar-title">Progresso</h3>
                <div class="progress-ring">
                    <div class="progress-circle">
                        <svg width="120" height="120">
                            <circle class="progress-circle-bg" cx="60" cy="60" r="52" />
                            <circle class="progress-circle-fill" cx="60" cy="60" r="52" id="progressCircle" />
                        </svg>
                        <span class="progress-value" id="progressValue">0%</span>
                    </div>
                    <p class="progress-label">Taxa de Conclus√£o</p>
                </div>
            </div>
        </aside>

        <!-- ==================== MAIN CONTENT ==================== -->
        <main class="main-content">
            <!-- Content Header -->
            <div class="content-header">
                <div>
                    <h1 class="page-title">
                        <span id="pageIcon">üìÖ</span>
                        <span id="pageTitle">Hoje</span>
                    </h1>
                    <p class="page-subtitle" id="pageSubtitle">Suas tarefas para hoje</p>
                </div>

                <div class="toolbar">
                    <div class="filter-group">
                        <select class="filter-select" id="priorityFilter">
                            <option value="all">Todas Prioridades</option>
                            <option value="high">üî¥ Alta</option>
                            <option value="medium">üü° M√©dia</option>
                            <option value="low">üü¢ Baixa</option>
                        </select>

                        <select class="filter-select" id="sortFilter">
                            <option value="priority">Ordenar por Prioridade</option>
                            <option value="date">Ordenar por Data</option>
                            <option value="title">Ordenar por T√≠tulo</option>
                            <option value="category">Ordenar por Categoria</option>
                        </select>
                    </div>

                    <div class="view-toggle">
                        <button class="view-btn active" id="listViewBtn" title="Visualiza√ß√£o em lista">
                            <span>‚ò∞</span>
                        </button>
                        <button class="view-btn" id="gridViewBtn" title="Visualiza√ß√£o em grade">
                            <span>‚äû</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Tasks Container -->
            <div id="tasksContainer" class="tasks-container">
                <!-- Tasks will be rendered here dynamically -->
            </div>

            <!-- Empty State -->
            <div class="empty-state hidden" id="emptyState">
                <span class="empty-icon">üì≠</span>
                <h2 class="empty-title">Nenhuma tarefa encontrada</h2>
                <p class="empty-text">Comece criando uma nova tarefa para organizar seu dia</p>
                <button class="btn btn-primary btn-lg" id="emptyAddBtn">
                    <span>‚ûï</span>
                    <span>Criar Primeira Tarefa</span>
                </button>
            </div>
        </main>

        <!-- ==================== RIGHT PANEL ==================== -->
        <aside class="right-panel">
            <!-- Mini Calendar -->
            <div class="panel-card">
                <div class="panel-header">
                    <h3 class="panel-title">üìÖ Calend√°rio</h3>
                    <button class="icon-btn" id="todayBtn" title="Ir para hoje">
                        <span>‚äô</span>
                    </button>
                </div>
                <div class="calendar" id="miniCalendar">
                    <div class="calendar-header">
                        <button class="icon-btn" id="prevMonth">‚Äπ</button>
                        <span class="calendar-month" id="calendarMonth">Janeiro 2025</span>
                        <button class="icon-btn" id="nextMonth">‚Ä∫</button>
                    </div>
                    <div class="calendar-grid" id="calendarGrid">
                        <!-- Calendar will be rendered here -->
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="panel-card">
                <div class="panel-header">
                    <h3 class="panel-title">‚ö° A√ß√µes R√°pidas</h3>
                </div>
                <div class="quick-actions">
                    <button class="btn btn-secondary quick-action-btn" id="exportBtn">
                        <span>üì§</span>
                        <span>Exportar Tarefas</span>
                    </button>
                    <button class="btn btn-secondary quick-action-btn" id="importBtn">
                        <span>üì•</span>
                        <span>Importar Tarefas</span>
                    </button>
                    <button class="btn btn-secondary quick-action-btn" id="enableNotifications">
                        <span>üîî</span>
                        <span>Ativar Notifica√ß√µes</span>
                    </button>
                    <button class="btn btn-secondary quick-action-btn" id="clearCompleted">
                        <span>üóëÔ∏è</span>
                        <span>Limpar Conclu√≠das</span>
                    </button>
                </div>
            </div>

            <!-- Upcoming Events -->
            <div class="panel-card">
                <div class="panel-header">
                    <h3 class="panel-title">üîú Pr√≥ximos Eventos</h3>
                </div>
                <div id="upcomingEvents">
                    <!-- Upcoming events will be rendered here -->
                </div>
            </div>
        </aside>
    </div>

    <!-- ==================== FAB ==================== -->
    <button class="fab" id="fabBtn" title="Criar nova tarefa">
        <span>+</span>
    </button>

    <!-- ==================== MODALS ==================== -->
    
    <!-- Task Modal -->
    <div class="modal-overlay" id="taskModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title" id="taskModalTitle">Nova Tarefa</h2>
                <button class="modal-close" id="closeTaskModal">√ó</button>
            </div>

            <form id="taskForm" class="modal-body">
                <!-- Title -->
                <div class="form-group">
                    <label class="form-label required" for="taskTitle">T√≠tulo</label>
                    <input type="text" class="form-input" id="taskTitle" placeholder="Ex: Reuni√£o com cliente √†s 14h" required autocomplete="off">
                </div>

                <!-- Quick Date Selection -->
                <div class="form-group">
                    <label class="form-label">Quando?</label>
                    <div class="quick-date-selector">
                        <button type="button" class="quick-date-btn active" data-date="today">
                            <span>üìÖ</span> Hoje
                        </button>
                        <button type="button" class="quick-date-btn" data-date="tomorrow">
                            <span>üìÜ</span> Amanh√£
                        </button>
                        <button type="button" class="quick-date-btn" data-date="nextweek">
                            <span>üóìÔ∏è</span> Pr√≥x. Semana
                        </button>
                    </div>
                </div>

                <!-- Date & Time -->
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label required" for="taskDate">Data</label>
                        <input type="date" class="form-input" id="taskDate" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="taskTime">Hor√°rio</label>
                        <input type="time" class="form-input" id="taskTime">
                    </div>
                </div>

                <!-- Advanced Options Toggle -->
                <button type="button" class="toggle-advanced" id="toggleAdvanced">
                    <span>‚öôÔ∏è</span>
                    <span>Op√ß√µes Avan√ßadas</span>
                    <span id="toggleIcon">‚ñº</span>
                </button>

                <!-- Advanced Options -->
                <div class="advanced-options hidden" id="advancedOptions">
                    <!-- Description -->
                    <div class="form-group">
                        <label class="form-label" for="taskDescription">Descri√ß√£o</label>
                        <textarea class="form-textarea" id="taskDescription" placeholder="Adicione detalhes, notas ou instru√ß√µes... "></textarea>
                    </div>

                    <!-- Priority -->
                    <div class="form-group">
                        <label class="form-label">Prioridade</label>
                        <div class="option-grid">
                            <label class="option-card">
                                <input type="radio" name="priority" value="low">
                                <span class="option-icon">üü¢</span>
                                <span class="option-label">Baixa</span>
                            </label>
                            <label class="option-card">
                                <input type="radio" name="priority" value="medium" checked>
                                <span class="option-icon">üü°</span>
                                <span class="option-label">M√©dia</span>
                            </label>
                            <label class="option-card">
                                <input type="radio" name="priority" value="high">
                                <span class="option-icon">üî¥</span>
                                <span class="option-label">Alta</span>
                            </label>
                        </div>
                    </div>

                    <!-- Category -->
                    <div class="form-group">
                        <label class="form-label">Categoria</label>
                        <div class="option-grid">
                            <label class="option-card">
                                <input type="radio" name="category" value="work" checked>
                                <span class="option-icon">üíº</span>
                                <span class="option-label">Trabalho</span>
                            </label>
                            <label class="option-card">
                                <input type="radio" name="category" value="personal">
                                <span class="option-icon">üë§</span>
                                <span class="option-label">Pessoal</span>
                            </label>
                            <label class="option-card">
                                <input type="radio" name="category" value="study">
                                <span class="option-icon">üìö</span>
                                <span class="option-label">Estudos</span>
                            </label>
                            <label class="option-card">
                                <input type="radio" name="category" value="health">
                                <span class="option-icon">‚ù§Ô∏è</span>
                                <span class="option-label">Sa√∫de</span>
                            </label>
                            <label class="option-card">
                                <input type="radio" name="category" value="shopping">
                                <span class="option-icon">üõí</span>
                                <span class="option-label">Compras</span>
                            </label>
                            <label class="option-card">
                                <input type="radio" name="category" value="other">
                                <span class="option-icon">üìå</span>
                                <span class="option-label">Outros</span>
                            </label>
                        </div>
                    </div>

                    <!-- Reminder -->
                    <div class="form-group">
                        <label class="form-label" for="taskReminder">Lembrete</label>
                        <select class="form-select" id="taskReminder">
                            <option value="none">Sem lembrete</option>
                            <option value="0">No hor√°rio</option>
                            <option value="5">5 minutos antes</option>
                            <option value="15">15 minutos antes</option>
                            <option value="30" selected>30 minutos antes</option>
                            <option value="60">1 hora antes</option>
                            <option value="1440">1 dia antes</option>
                        </select>
                    </div>
                </div>

                <input type="hidden" id="taskId">
            </form>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelTask">Cancelar</button>
                <button type="submit" form="taskForm" class="btn btn-primary">
                    <span>‚úì</span>
                    <span id="saveTaskText">Criar Tarefa</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal-overlay" id="deleteModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Confirmar Exclus√£o</h2>
                <button class="modal-close" id="closeDeleteModal">√ó</button>
            </div>
            <div class="modal-body">
                <p style="font-size: var(--text-base); color: var(--text-primary); margin-bottom: var(--space-3);">
                    Tem certeza que deseja excluir esta tarefa?
                </p>
                <p style="font-size: var(--text-sm); color: var(--text-secondary);">
                    Esta a√ß√£o n√£o pode ser desfeita.
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelDelete">Cancelar</button>
                <button type="button" class="btn btn-primary" id="confirmDelete" style="background: var(--danger); border-color: var(--danger);">
                    <span>üóëÔ∏è</span>
                    <span>Excluir</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Hidden File Input for Import -->
    <input type="file" id="importFile" accept=".json" class="hidden">

    <!-- Scripts -->
    <script src="js/app.js"></script>
    <script src="js/notifications.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker. register('/service-worker.js')
                    .then(registration => {
                        console.log('‚úì Service Worker registrado:', registration. scope);
                    })
                    .catch(error => {
                        console.log('‚úó Erro ao registrar Service Worker:', error);
                    });
            });
        }
    </script>
</body>
</html>